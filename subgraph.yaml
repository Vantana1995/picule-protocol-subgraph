specVersion: 0.0.8
description: Picule is decentralized protocol for automated erc20 token exchange and make your NFT valuable on Monad
repository:
schema:
  file: ./src/schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Factory
    network: monad-testnet
    source:
      address: "0x4c4a92931a3f0a4fb369c61fd990efce28b044e7"
      abi: Factory
      startBlock: 30449226
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/factory.ts
      entities:
        - Pair
        - Token
        - PairTokenLookup
        - Bundle
        - PiculeFactory
      abis:
        - name: Factory
          file: ./abis/factory.json
        - name: ERC20
          file: ./abis/erc20.json
      eventHandlers:
        - event: PairCreated(indexed address,indexed address,address,uint256)
          handler: handleNewPair
  - kind: ethereum/contract
    name: TokenLaunchManager
    network: monad-testnet
    source:
      address: "0x8375e6f077c5a4b6ff05620928588e04717e8a4e"
      abi: TokenLaunchManager
      startBlock: 30449186
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/tlm.ts
      entities:
        - ERC20Token
        - ERC721Contract
        - FundsManager
        - Account
        - Project
        - Transaction
      abis:
        - name: TokenLaunchManager
          file: ./abis/tlm.json
        - name: ERC20
          file: ./abis/erc20.json
        - name: ERC721
          file: ./abis/erc721.json
        - name: FundsManager
          file: ./abis/fundsManager.json
      eventHandlers:
        - event: ProjectCreated(indexed address,address,address,address,uint256)
          handler: handleProjectCreate
  - kind: ethereum/contract
    name: ICO
    network: monad-testnet
    source:
      address: "0x541fb0d5ba646f7ef0eb1fece90032c389592b1e"
      abi: ICO
      startBlock: 30449265
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/ico.ts
      entities:
        - ICORequest
        - Contribution
        - Transaction
        - Account
        - ICOContributor
        - Project
      abis:
        - name: ICO
          file: ./abis/ico.json
      eventHandlers:
        - event: RequestCreated(indexed uint256)
          handler: handleRequestCreate
        - event: Contributed(indexed uint256,indexed address,uint256)
          handler: handleContribute
  - kind: ethereum/contract
    name: FundsManager
    network: monad-testnet
    source:
      address: "0x2a9721d8454ef0148f4f65d6ca8248a659087d6b"
      abi: FundsManager
      startBlock: 30449160
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/funds.ts
      entities:
        - Checkpoint
        - LPTokenLock
        - BonusClaim
        - Account
        - ERC721Token
        - ERC721Contract
        - FundsManager
        - Transaction
      abis:
        - name: FundsManager
          file: ./abis/fundsManager.json
      eventHandlers:
        - event: Checkpointupdate(indexed address,uint256,uint256,uint256)
          handler: handleCheckpointUpdate
        - event: LPTokenLocked(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleLpTokenLocked
        - event: BonusClaimed(indexed uint256,indexed address,indexed address,uint256,uint256,uint256)
          handler: handleBonusClaimed
  - kind: ethereum/contract
    name: NFTPicule
    network: monad-testnet
    source:
      address: "0x7694a1b2dd1d227b8f3b29dbb6660d2ac7bb1646"
      abi: ERC721
      startBlock: 30449078
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/erc721.ts
      entities:
        - ERC721Token
        - ERC721Contract
        - Account
        - ERC721Transfer
        - Transaction
      abis:
        - name: ERC721
          file: ./abis/erc721.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: MPC
    network: monad-testnet
    source:
      address: "0xc70c0da850c8d042a1be575d12f45e4392d9a889"
      abi: MPC
      startBlock: 30449131
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/erc20.ts
      entities:
        - Transaction
        - ERC20Mint
        - ERC20Burn
        - Account
        - ERC20Token
      abis:
        - name: MPC
          file: ./abis/mpc.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: Marketplace
    network: monad-testnet
    source:
      address: "0xe8c3490eed91ba902731ea2bbb69426282604012"
      abi: Marketplace
      startBlock: 30449278
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/marketplace.ts
      entities:
        - Listing
        - Sale
        - PriceUpdate
        - ListingCancellation
        - Transaction
        - Account
        - ERC721Token
        - MarketplaceStats
      abis:
        - name: Marketplace
          file: ./abis/marketplace.json
      eventHandlers:
        - event: ItemListed(indexed address,indexed address,indexed uint256,uint256)
          handler: handleItemListed
        - event: ItemSold(indexed address,indexed address,indexed uint256,uint256,address)
          handler: handleItemSold
        - event: ListingCancelled(indexed address,indexed address,indexed uint256)
          handler: handleListingCancelled
        - event: ListingUpdated(indexed address,uint256,uint256,uint256)
          handler: handleListingUpdated
templates:
  - kind: ethereum/contract
    name: Pair
    network: monad-testnet
    source:
      abi: Pair
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/pair.ts
      entities:
        - Pair
        - Token
        - Swap
        - Mint
        - Burn
        - Transaction
        - Account
        - LiquidityPosition
        - LiquidityPositionSnapshot
        - Bundle
        - PiculeFactory
      abis:
        - name: Pair
          file: ./abis/pair.json
        - name: Factory
          file: ./abis/factory.json
      eventHandlers:
        - event: Mint(indexed address,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,indexed address)
          handler: handleBurn
        - event: Swap(indexed address,uint256,uint256,uint256,uint256,indexed address)
          handler: handleSwap
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Sync(uint112,uint112)
          handler: handleSync
  - kind: ethereum/contract
    name: ERC20
    network: monad-testnet
    source:
      abi: ERC20
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/erc20.ts
      entities:
        - Transaction
        - ERC20Mint
        - ERC20Burn
        - Account
        - ERC20Token
      abis:
        - name: ERC20
          file: ./abis/erc20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: ERC721
    network: monad-testnet
    source:
      abi: ERC721
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/erc721.ts
      entities:
        - ERC721Token
        - ERC721Contract
        - Account
        - ERC721Transfer
        - Transaction
      abis:
        - name: ERC721
          file: ./abis/erc721.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: FundsManager
    network: monad-testnet
    source:
      abi: FundsManager
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/funds.ts
      entities:
        - Checkpoint
        - LPTokenLock
        - BonusClaim
        - Account
        - ERC721Token
        - ERC721Contract
        - FundsManager
        - Transaction
      abis:
        - name: FundsManager
          file: ./abis/fundsManager.json
      eventHandlers:
        - event: Checkpointupdate(indexed address,uint256,uint256,uint256)
          handler: handleCheckpointUpdate
        - event: LPTokenLocked(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleLpTokenLocked
        - event: BonusClaimed(indexed uint256,indexed address,indexed address,uint256,uint256,uint256)
          handler: handleBonusClaimed
