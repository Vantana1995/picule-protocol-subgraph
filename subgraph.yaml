specVersion: 1.3.0
description: Picule is decentralized protocol for automated erc20 token exchange and make your NFT valuable on Monad
repository:
schema:
  file: ./src/schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Factory
    network: sepolia
    source:
      address: "0x7a0BA2f48ECc7dB655CD5890E1e53b01196c3616"
      abi: Factory
      startBlock: 9234955
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/factory.ts
      entities:
        - Pair
        - Token
        - PairTokenLookup
        - Bundle
        - PiculeFactory
      abis:
        - name: Factory
          file: ./abis/factory.json
        - name: ERC20
          file: ./abis/erc20.json
        - name: Pair
          file: ./abis/pair.json
      eventHandlers:
        - event: PairCreated(indexed address,indexed address,address,uint256)
          handler: handleNewPair
  - kind: ethereum/contract
    name: TokenLaunchManager
    network: sepolia
    source:
      address: "0x2223E98224A6c1f19DfBA9e6F249606Cdc21bd9D"
      abi: TokenLaunchManager
      startBlock: 9234966
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/tlm.ts
      entities:
        - ERC20Token
        - ERC721Contract
        - FundsManager
        - Account
        - Project
        - Transaction
      abis:
        - name: TokenLaunchManager
          file: ./abis/tlm.json
        - name: ERC20
          file: ./abis/erc20.json
        - name: ERC721
          file: ./abis/erc721.json
        - name: FundsManager
          file: ./abis/fundsManager.json
      eventHandlers:
        - event: ProjectCreated(indexed address,address,address,address,uint256)
          handler: handleProjectCreate
  - kind: ethereum/contract
    name: ICO
    network: sepolia
    source:
      address: "0xf551cce75e94b08409cc4b6f69132abee27324c3"
      abi: ICO
      startBlock: 9234965
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/ico.ts
      entities:
        - ICORequest
        - Contribution
        - Transaction
        - Account
        - ICOContributor
        - Project
      abis:
        - name: ICO
          file: ./abis/ico.json
      eventHandlers:
        - event: RequestCreated(indexed uint256)
          handler: handleRequestCreate
        - event: Contributed(indexed uint256,indexed address,uint256)
          handler: handleContribute
  - kind: ethereum/contract
    name: FundsManager
    network: sepolia
    source:
      address: "0x6051700da98d38e47db2de3c8b670158ff24671d"
      abi: FundsManager
      startBlock: 9234960
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/funds.ts
      entities:
        - Checkpoint
        - LPTokenLock
        - BonusClaim
        - Account
        - ERC721Token
        - ERC721Contract
        - FundsManager
        - Transaction
      abis:
        - name: FundsManager
          file: ./abis/fundsManager.json
      eventHandlers:
        - event: Checkpointupdate(indexed address,uint256,uint256,uint256)
          handler: handleCheckpointUpdate
        - event: LPTokenLocked(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleLpTokenLocked
        - event: BonusClaimed(indexed uint256,indexed address,indexed address,uint256,uint256,uint256)
          handler: handleBonusClaimed
  - kind: ethereum/contract
    name: NFTPicule
    network: sepolia
    source:
      address: "0x1867ea756e38899d725479109ae678758518c667"
      abi: ERC721
      startBlock: 9234958
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/erc721.ts
      entities:
        - ERC721Token
        - ERC721Contract
        - Account
        - ERC721Transfer
        - Transaction
      abis:
        - name: ERC721
          file: ./abis/erc721.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: MPC
    network: sepolia
    source:
      address: "0x79fd213135a9f948f7c7abf281f65e62decf5ed8"
      abi: MPC
      startBlock: 9234956
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/erc20.ts
      entities:
        - Transaction
        - ERC20Mint
        - ERC20Burn
        - Account
        - ERC20Token
      abis:
        - name: MPC
          file: ./abis/mpc.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: Marketplace
    network: sepolia
    source:
      address: "0x6b705c2e5ab18eb9b888ba317420d9f1c5a46dc2"
      abi: Marketplace
      startBlock: 9201316
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/marketplace.ts
      entities:
        - Listing
        - Sale
        - PriceUpdate
        - ListingCancellation
        - Transaction
        - Account
        - ERC721Token
        - MarketplaceStats
      abis:
        - name: Marketplace
          file: ./abis/marketplace.json
      eventHandlers:
        - event: ItemListed(indexed address,indexed address,indexed uint256,uint256)
          handler: handleItemListed
        - event: ItemSold(indexed address,indexed address,indexed uint256,uint256,address)
          handler: handleItemSold
        - event: ListingCancelled(indexed address,indexed address,indexed uint256)
          handler: handleListingCancelled
        - event: ListingUpdated(indexed address,uint256,uint256,uint256)
          handler: handleListingUpdated
templates:
  - kind: ethereum/contract
    name: Pair
    network: sepolia
    source:
      abi: Pair
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/pair.ts
      entities:
        - Pair
        - Token
        - Swap
        - Mint
        - Burn
        - Transaction
        - Account
        - LiquidityPosition
        - LiquidityPositionSnapshot
        - Bundle
        - PiculeFactory
      abis:
        - name: Pair
          file: ./abis/pair.json
        - name: Factory
          file: ./abis/factory.json
      eventHandlers:
        - event: Mint(indexed address,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,indexed address)
          handler: handleBurn
        - event: Swap(indexed address,uint256,uint256,uint256,uint256,indexed address)
          handler: handleSwap
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Sync(uint112,uint112)
          handler: handleSync
  - kind: ethereum/contract
    name: ERC20
    network: sepolia
    source:
      abi: ERC20
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/erc20.ts
      entities:
        - Transaction
        - ERC20Mint
        - ERC20Burn
        - Account
        - ERC20Token
      abis:
        - name: ERC20
          file: ./abis/erc20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: ERC721
    network: sepolia
    source:
      abi: ERC721
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/erc721.ts
      entities:
        - ERC721Token
        - ERC721Contract
        - Account
        - ERC721Transfer
        - Transaction
      abis:
        - name: ERC721
          file: ./abis/erc721.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: FundsManager
    network: sepolia
    source:
      abi: FundsManager
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      file: ./src/mapping/funds.ts
      entities:
        - Checkpoint
        - LPTokenLock
        - BonusClaim
        - Account
        - ERC721Token
        - ERC721Contract
        - FundsManager
        - Transaction
      abis:
        - name: FundsManager
          file: ./abis/fundsManager.json
      eventHandlers:
        - event: Checkpointupdate(indexed address,uint256,uint256,uint256)
          handler: handleCheckpointUpdate
        - event: LPTokenLocked(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleLpTokenLocked
        - event: BonusClaimed(indexed uint256,indexed address,indexed address,uint256,uint256,uint256)
          handler: handleBonusClaimed
