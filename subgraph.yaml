specVersion: 0.0.8
description: Picule is decentralized protocol for automated erc20 token exchange and make your NFT valuable on Monad
repository:
schema:
  file: ./src/schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Factory
    network: monad-testnet
    source:
      address: "0x7b2f3f824505518047f08513df6e43ba0992a84a"
      abi: Factory
      startBlock: 30716196
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/factory.ts
      entities:
        - Pair
        - Token
        - PairTokenLookup
        - Bundle
        - PiculeFactory
      abis:
        - name: Factory
          file: ./abis/factory.json
        - name: ERC20
          file: ./abis/erc20.json
      eventHandlers:
        - event: PairCreated(indexed address,indexed address,address,uint256)
          handler: handleNewPair
  - kind: ethereum/contract
    name: TokenLaunchManager
    network: monad-testnet
    source:
      address: "0xe2a924d00f705a9a4d19030eaa714695facfad89"
      abi: TokenLaunchManager
      startBlock: 30716145
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/tlm.ts
      entities:
        - ERC20Token
        - ERC721Contract
        - FundsManager
        - Account
        - Project
        - Transaction
      abis:
        - name: TokenLaunchManager
          file: ./abis/tlm.json
        - name: ERC20
          file: ./abis/erc20.json
        - name: ERC721
          file: ./abis/erc721.json
        - name: FundsManager
          file: ./abis/fundsManager.json
      eventHandlers:
        - event: ProjectCreated(indexed address,address,address,address,uint256)
          handler: handleProjectCreate
  - kind: ethereum/contract
    name: ICO
    network: monad-testnet
    source:
      address: "0x5fcd7b9a4520b717d5b06a7bdcc27d8524ef3329"
      abi: ICO
      startBlock: 30716300
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/ico.ts
      entities:
        - ICORequest
        - Contribution
        - Transaction
        - Account
        - ICOContributor
        - Project
      abis:
        - name: ICO
          file: ./abis/ico.json
      eventHandlers:
        - event: RequestCreated(indexed uint256)
          handler: handleRequestCreate
        - event: Contributed(indexed uint256,indexed address,uint256)
          handler: handleContribute
  - kind: ethereum/contract
    name: FundsManager
    network: monad-testnet
    source:
      address: "0x46614ac919d43f8186eb6fc1482b729eda701e07"
      abi: FundsManager
      startBlock: 30716020
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/funds.ts
      entities:
        - Checkpoint
        - LPTokenLock
        - BonusClaim
        - Account
        - ERC721Token
        - ERC721Contract
        - FundsManager
        - Transaction
      abis:
        - name: FundsManager
          file: ./abis/fundsManager.json
      eventHandlers:
        - event: Checkpointupdate(indexed address,uint256,uint256,uint256)
          handler: handleCheckpointUpdate
        - event: LPTokenLocked(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleLpTokenLocked
        - event: BonusClaimed(indexed uint256,indexed address,indexed address,uint256,uint256,uint256)
          handler: handleBonusClaimed
  - kind: ethereum/contract
    name: NFTPicule
    network: monad-testnet
    source:
      address: "0x0b7d93e656d83d6ca89749991d746429c93b51c5"
      abi: ERC721
      startBlock: 30715826
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/erc721.ts
      entities:
        - ERC721Token
        - ERC721Contract
        - Account
        - ERC721Transfer
        - Transaction
      abis:
        - name: ERC721
          file: ./abis/erc721.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: MPC
    network: monad-testnet
    source:
      address: "0x9d76e3b5b488ae77e2af8f33ac9fd3771fcc94a8"
      abi: MPC
      startBlock: 30715943
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/erc20.ts
      entities:
        - Transaction
        - ERC20Mint
        - ERC20Burn
        - Account
        - ERC20Token
      abis:
        - name: MPC
          file: ./abis/mpc.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: Marketplace
    network: monad-testnet
    source:
      address: "0xe8c3490eed91ba902731ea2bbb69426282604012"
      abi: Marketplace
      startBlock: 30449278
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/marketplace.ts
      entities:
        - Listing
        - Sale
        - PriceUpdate
        - ListingCancellation
        - Transaction
        - Account
        - ERC721Token
        - MarketplaceStats
      abis:
        - name: Marketplace
          file: ./abis/marketplace.json
      eventHandlers:
        - event: ItemListed(indexed address,indexed address,indexed uint256,uint256)
          handler: handleItemListed
        - event: ItemSold(indexed address,indexed address,indexed uint256,uint256,address)
          handler: handleItemSold
        - event: ListingCancelled(indexed address,indexed address,indexed uint256)
          handler: handleListingCancelled
        - event: ListingUpdated(indexed address,uint256,uint256,uint256)
          handler: handleListingUpdated
templates:
  - kind: ethereum/contract
    name: Pair
    network: monad-testnet
    source:
      abi: Pair
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/pair.ts
      entities:
        - Pair
        - Token
        - Swap
        - Mint
        - Burn
        - Transaction
        - Account
        - LiquidityPosition
        - LiquidityPositionSnapshot
        - Bundle
        - PiculeFactory
      abis:
        - name: Pair
          file: ./abis/pair.json
        - name: Factory
          file: ./abis/factory.json
      eventHandlers:
        - event: Mint(indexed address,uint256,uint256)
          handler: handleMint
        - event: Burn(indexed address,uint256,uint256,indexed address)
          handler: handleBurn
        - event: Swap(indexed address,uint256,uint256,uint256,uint256,indexed address)
          handler: handleSwap
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Sync(uint112,uint112)
          handler: handleSync
  - kind: ethereum/contract
    name: ERC20
    network: monad-testnet
    source:
      abi: ERC20
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/erc20.ts
      entities:
        - Transaction
        - ERC20Mint
        - ERC20Burn
        - Account
        - ERC20Token
      abis:
        - name: ERC20
          file: ./abis/erc20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: ERC721
    network: monad-testnet
    source:
      abi: ERC721
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/erc721.ts
      entities:
        - ERC721Token
        - ERC721Contract
        - Account
        - ERC721Transfer
        - Transaction
      abis:
        - name: ERC721
          file: ./abis/erc721.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: FundsManager
    network: monad-testnet
    source:
      abi: FundsManager
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/mapping/funds.ts
      entities:
        - Checkpoint
        - LPTokenLock
        - BonusClaim
        - Account
        - ERC721Token
        - ERC721Contract
        - FundsManager
        - Transaction
      abis:
        - name: FundsManager
          file: ./abis/fundsManager.json
      eventHandlers:
        - event: Checkpointupdate(indexed address,uint256,uint256,uint256)
          handler: handleCheckpointUpdate
        - event: LPTokenLocked(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleLpTokenLocked
        - event: BonusClaimed(indexed uint256,indexed address,indexed address,uint256,uint256,uint256)
          handler: handleBonusClaimed
